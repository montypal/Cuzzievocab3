<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cuzzie Vocab Showdown</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:radial-gradient(circle at top,#15152d,#050510);
  color:#f5f5ff;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}
#app{
  max-width:960px;
  margin:0 auto;
  padding:16px 12px 32px;
}
h1{
  text-align:center;
  font-size:32px;
  letter-spacing:2px;
}
h2{
  text-align:center;
  font-size:14px;
  color:#c6c6ff;
  margin-top:4px;
}
.top-bar{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:14px;
}
.panel{
  background:rgba(8,8,35,0.96);
  border-radius:16px;
  padding:16px;
  box-shadow:0 0 30px rgba(0,0,0,0.6);
  flex:2;
  min-width:250px;
}
.sidebar{
  background:rgba(8,8,35,0.96);
  border-radius:16px;
  padding:14px;
  box-shadow:0 0 25px rgba(0,0,0,0.6);
  flex:1;
  min-width:220px;
}
#statusBar{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}
.status-box{
  flex:1;
  min-width:120px;
  background:#151538;
  border-radius:10px;
  padding:8px 10px;
}
.status-label{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#a5a5ff;
}
.status-value{
  font-size:18px;
  font-weight:600;
}
#goForGoldBtn{
  flex:1.1;
  min-width:140px;
  background:linear-gradient(120deg,#ffd700,#ffae00);
  border:none;
  border-radius:12px;
  padding:9px 10px;
  font-size:13px;
  font-weight:700;
  text-transform:uppercase;
  color:#2b1f00;
  cursor:pointer;
  box-shadow:0 0 14px rgba(255,215,0,0.8);
  transition:transform .1s,box-shadow .1s,filter .1s;
}
#goForGoldBtn.disabled{
  background:linear-gradient(120deg,#6d6123,#544719);
  color:#d6d0a4;
  cursor:not-allowed;
  box-shadow:none;
  filter:grayscale(.35);
}
#goForGoldBtn:hover:not(.disabled){
  transform:translateY(-1px);
  box-shadow:0 0 18px rgba(255,215,0,1);
}
#difficultyBar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:8px;
  gap:8px;
}
#difficultySelect{
  background:#12122a;
  color:#f5f5ff;
  border-radius:8px;
  border:1px solid #34345a;
  padding:4px 8px;
  font-size:13px;
}
#questionHeader{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  margin-bottom:10px;
}
#questionNumber{
  font-size:15px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#bdbdff;
}
#questionTypeBadge{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  background:#1e293b;
  color:#facc15;
  text-transform:uppercase;
  letter-spacing:1px;
}
#questionText{
  font-size:18px;
  line-height:1.4;
  margin-bottom:12px;
}
#maskedWord{
  font-family:"SF Mono","Consolas",monospace;
  color:#facc15;
}
#choices{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.choice-btn{
  border-radius:10px;
  border:1px solid #30305a;
  background:linear-gradient(120deg,#111125,#151536);
  padding:9px 10px;
  font-size:14px;
  text-align:left;
  color:#f5f5ff;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:9px;
  transition:background .1s,border-color .1s,transform .08s,box-shadow .12s;
}
.choice-btn:hover{
  background:#1b1b3a;
  transform:translateY(-1px);
  box-shadow:0 0 8px rgba(0,0,0,0.6);
}
.choice-badge{
  width:22px;
  height:22px;
  border-radius:50%;
  background:#22224a;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
}
.choice-text{
  flex:1;
}
.choice-btn.correct{
  border-color:#4ade80;
  background:rgba(22,163,74,0.15);
}
.choice-btn.incorrect{
  border-color:#fb7185;
  background:rgba(248,113,113,0.15);
}
#feedback{
  margin-top:10px;
  font-size:14px;
  line-height:1.35;
  border-radius:10px;
  padding:8px 10px;
}
#feedback.correct{
  background:rgba(22,163,74,0.18);
  border:1px solid #4ade80;
}
#feedback.incorrect{
  background:rgba(248,113,113,0.18);
  border:1px solid #fb7185;
}
#controls{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:10px;
  gap:10px;
}
#xpDelta{
  font-size:13px;
}
#nextBtn{
  margin-left:auto;
  background:#3b82f6;
  color:#f5f5ff;
  border:none;
  border-radius:10px;
  padding:8px 14px;
  font-size:13px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:.5px;
  cursor:pointer;
  transition:background .12s,transform .08s,box-shadow .1s;
}
#nextBtn:hover{
  background:#2563eb;
  transform:translateY(-1px);
  box-shadow:0 0 10px rgba(37,99,235,0.8);
}
#summary{
  margin-top:12px;
  font-size:14px;
  line-height:1.4;
}
.sidebar-section{
  margin-bottom:12px;
  padding-bottom:8px;
  border-bottom:1px solid rgba(70,70,120,0.5);
}
.sidebar-title{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#a5a5ff;
  margin-bottom:4px;
}
#leaderboardList{
  list-style:none;
  font-size:13px;
}
#leaderboardList li{
  padding:3px 0;
}
.badge{
  display:inline-block;
  padding:2px 6px;
  border-radius:999px;
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:.5px;
  margin-left:4px;
}
.badge-gold{background:#facc15;color:#3b1f00;}
.badge-silver{background:#e5e7eb;color:#111827;}
.badge-bronze{background:#f97316;color:#111827;}
#bossBar{
  font-size:13px;
}
#bossQuestionTag{
  display:inline-block;
  padding:2px 6px;
  border-radius:999px;
  background:#7c2d12;
  color:#fee2e2;
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:.5px;
  margin-left:4px;
}
@keyframes flash-correct{
  0%{box-shadow:0 0 0 rgba(34,197,94,0.0);}
  50%{box-shadow:0 0 20px rgba(34,197,94,0.8);}
  100%{box-shadow:0 0 0 rgba(34,197,94,0.0);}
}
@keyframes flash-wrong{
  0%{box-shadow:0 0 0 rgba(239,68,68,0.0);}
  50%{box-shadow:0 0 20px rgba(239,68,68,0.8);}
  100%{box-shadow:0 0 0 rgba(239,68,68,0.0);}
}
.flash-correct{
  animation:flash-correct .35s ease-out;
}
.flash-wrong{
  animation:flash-wrong .35s ease-out;
}
@media(max-width:720px){
  .top-bar{
    flex-direction:column;
  }
}
</style>
</head>
<body>
<div id="app">
  <h1>Cuzzie Vocab Showdown</h1>
  <h2>Stack XP, go for the gold, and flex your lexicon.</h2>

  <div class="top-bar">
    <div class="panel">
      <div id="difficultyBar">
        <div>
          <span style="font-size:11px;text-transform:uppercase;letter-spacing:1px;color:#a5a5ff;">Difficulty</span>
          <select id="difficultySelect">
            <option value="easy">Easy (4 choices)</option>
            <option value="medium" selected>Medium (5 choices)</option>
            <option value="hard">Hard (6 choices)</option>
          </select>
        </div>
        <div id="bossBar">Boss round every 10 questions<span id="bossQuestionTag" style="display:none;">Boss</span></div>
      </div>

      <div id="statusBar">
        <div class="status-box">
          <div class="status-label">XP</div>
          <div class="status-value" id="xpDisplay">0</div>
        </div>
        <div class="status-box">
          <div class="status-label">Question</div>
          <div class="status-value" id="questionCountDisplay">1 / 1</div>
        </div>
        <div class="status-box">
          <div class="status-label">Streak</div>
          <div class="status-value" id="streakDisplay">0</div>
        </div>
        <div class="status-box">
          <div class="status-label">Gold Cooldown</div>
          <div class="status-value" id="cooldownDisplay">Ready</div>
        </div>
        <button id="goForGoldBtn">Go For The Gold</button>
      </div>

      <div id="questionHeader">
        <div id="questionNumber">Question 1</div>
        <div id="questionTypeBadge"></div>
      </div>

      <div id="questionText"></div>
      <div id="choices"></div>
      <div id="feedback"></div>

      <div id="controls">
        <div id="xpDelta"></div>
        <button id="nextBtn">Next</button>
      </div>

      <div id="summary"></div>
    </div>

    <div class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-title">Leaderboard</div>
        <ul id="leaderboardList"></ul>
      </div>
      <div class="sidebar-section">
        <div class="sidebar-title">Session Stats</div>
        <div id="statsText" style="font-size:13px;"></div>
      </div>
      <div>
        <div class="sidebar-title">Hints</div>
        <div style="font-size:12px;line-height:1.4;">
          Boss rounds give extra XP but punish mistakes. Streaks multiply gains. Go For The Gold doubles risk and reward.
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const vocab=[
"Axiomatic","Anfractuous","Avarice","Apocryphal","Avant garde","Abstruse","Anathema",
"Cassandra","Carpe diem","Conflagration","Circumvent","Convivial","Corpulent","Cacophony",
"Clandestine","Despot","Dour","Discreet","Discrepancy","Fastidious","Fetid","Fillip",
"Fractured","Funereal","Garrulous","Hyperbole","Iconoclast","Inimitable","Infamous",
"Erstwhile","Esoteric","Ephemeral","Equanimity","Intransigent","Ignominious",
"Incontrovertible","Irreverent","Lionize","Largesse","Lingua franca","Lugubrious",
"Malfeasance","Macabre","Mendacious","Maelstrom","Nihilism","Neophyte","Non sequitur",
"Occam’s razor","Ostracize","Pollyannaish","Perfunctory","Preternatural","Pyrrhic victory",
"Parsimonious","Potentate","Quandary","Rebuke","Rancor","Sagacious","Supplicant","Secular",
"Schadenfreude","Soliloquy","Sacrosanct","Tragicomic","Truculent","Ubiquitous","Votive",
"Vox populi","Vernacular","Zeitgeist","Zealot","Zenith"
];

function def(w){
  const d={
    "Axiomatic":"Self-evident or universally accepted as true.",
    "Anfractuous":"Full of twists and turns; intricate.",
    "Avarice":"Extreme greed for wealth or material gain.",
    "Apocryphal":"Of doubtful authenticity, though widely circulated.",
    "Avant garde":"Radically new and experimental, especially in the arts.",
    "Abstruse":"Difficult to understand; obscure.",
    "Anathema":"Something or someone intensely disliked or shunned.",
    "Cassandra":"A person whose valid warnings are ignored.",
    "Carpe diem":"Seize the day; make the most of the present moment.",
    "Conflagration":"A large, destructive fire or intense conflict.",
    "Circumvent":"To find a way around an obstacle or rule.",
    "Convivial":"Cheerful, friendly, and enjoyable.",
    "Corpulent":"Excessively fat; having a large, bulky body.",
    "Cacophony":"Harsh, jarring mixture of sounds.",
    "Clandestine":"Secret, hidden, or done in concealment.",
    "Despot":"A ruler with absolute power, often oppressive.",
    "Dour":"Relentlessly severe, stern, or gloomy.",
    "Discreet":"Careful and tactful in speech or action.",
    "Discrepancy":"A lack of compatibility between facts.",
    "Fastidious":"Very attentive to detail; hard to please.",
    "Fetid":"Smelling extremely unpleasant.",
    "Fillip":"A stimulus or boost to activity.",
    "Fractured":"Broken, cracked, or damaged.",
    "Funereal":"Gloomy, solemn, or mournful.",
    "Garrulous":"Excessively talkative.",
    "Hyperbole":"Deliberate exaggeration for effect.",
    "Iconoclast":"One who attacks cherished beliefs.",
    "Inimitable":"Impossible to copy; unique.",
    "Infamous":"Well known for a bad quality or deed.",
    "Erstwhile":"Former; of times past.",
    "Esoteric":"Intended for or understood by a small group.",
    "Ephemeral":"Lasting for a very short time.",
    "Equanimity":"Calmness under pressure.",
    "Intransigent":"Unwilling to compromise.",
    "Ignominious":"Deserving public disgrace.",
    "Incontrovertible":"Impossible to deny or dispute.",
    "Irreverent":"Showing lack of respect.",
    "Lionize":"To treat someone as a celebrity.",
    "Largesse":"Generous giving.",
    "Lingua franca":"A common language between groups.",
    "Lugubrious":"Excessively sad or gloomy.",
    "Malfeasance":"Wrongdoing by a public official.",
    "Macabre":"Disturbing due to involvement with death.",
    "Mendacious":"Lying; untruthful.",
    "Maelstrom":"A violent whirlpool or chaotic situation.",
    "Nihilism":"Belief that life is meaningless.",
    "Neophyte":"A beginner.",
    "Non sequitur":"A statement that does not follow logically.",
    "Occam’s razor":"Simplest explanation is usually best.",
    "Ostracize":"To exclude from a group.",
    "Pollyannaish":"Unreasonably optimistic.",
    "Perfunctory":"Done without interest or enthusiasm.",
    "Preternatural":"Beyond what is normal.",
    "Pyrrhic victory":"A victory that costs too much.",
    "Parsimonious":"Stingy; unwilling to spend money.",
    "Potentate":"A powerful ruler.",
    "Quandary":"A difficult dilemma.",
    "Rebuke":"To sharply criticize.",
    "Rancor":"Deep resentment.",
    "Sagacious":"Wise and perceptive.",
    "Supplicant":"One who begs humbly.",
    "Secular":"Not religious.",
    "Schadenfreude":"Pleasure from others’ misfortune.",
    "Soliloquy":"Speaking thoughts aloud.",
    "Sacrosanct":"Too important to be interfered with.",
    "Tragicomic":"Both tragic and comic.",
    "Truculent":"Aggressively defiant.",
    "Ubiquitous":"Found everywhere.",
    "Votive":"Offered in fulfillment of a vow.",
    "Vox populi":"Voice of the people.",
    "Vernacular":"Everyday language.",
    "Zeitgeist":"Spirit of the time.",
    "Zealot":"Fanatic.",
    "Zenith":"Highest point."
  };
  return d[w];
}

function maskWord(w){
  return w.replace(/[A-Za-z]/g,"*");
}

function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function pickWrong(correct,count){
  const pool=vocab.filter(v=>v!==correct);
  shuffle(pool);
  return pool.slice(0,Math.min(count,pool.length));
}

let questions=vocab.map(word=>{
  const type=Math.random()<0.5?"definition":"fill";
  return {
    word,
    type,
    prompt:def(word),
    masked:type==="fill" ? maskWord(word) : null
  };
});
shuffle(questions);

let index=0;
let xp=0;
let streak=0;
let answered=false;
let goldActive=false;
let goldCooldown=0;
let correctCount=0;

const xpDisplay=document.getElementById("xpDisplay");
const questionCountDisplay=document.getElementById("questionCountDisplay");
const cooldownDisplay=document.getElementById("cooldownDisplay");
const streakDisplay=document.getElementById("streakDisplay");
const goForGoldBtn=document.getElementById("goForGoldBtn");
const questionNumber=document.getElementById("questionNumber");
const questionTypeBadge=document.getElementById("questionTypeBadge");
const questionText=document.getElementById("questionText");
const choicesDiv=document.getElementById("choices");
const feedbackDiv=document.getElementById("feedback");
const xpDeltaDiv=document.getElementById("xpDelta");
const nextBtn=document.getElementById("nextBtn");
const summaryDiv=document.getElementById("summary");
const leaderboardList=document.getElementById("leaderboardList");
const statsText=document.getElementById("statsText");
const difficultySelect=document.getElementById("difficultySelect");
const bossQuestionTag=document.getElementById("bossQuestionTag");

function baseChoices(){
  const d=difficultySelect.value;
  if(d==="easy")return 4;
  if(d==="hard")return 6;
  return 5;
}

function isBossQuestion(i){
  return (i+1)%10===0;
}

function updateCooldownDisplay(){
  if(goldCooldown===0){
    cooldownDisplay.textContent="Ready";
    goForGoldBtn.classList.remove("disabled");
  }else{
    cooldownDisplay.textContent=goldCooldown+" q";
    goForGoldBtn.classList.add("disabled");
  }
}

function updateStats(){
  const total=index+1;
  const accuracy=total>0?Math.round((correctCount/total)*100):0;
  statsText.textContent=
    "Accuracy: "+accuracy+"% | Correct: "+correctCount+" / "+total+
    " | Streak: "+streak;
}

function loadQuestion(){
  answered=false;
  goldActive=false;
  feedbackDiv.textContent="";
  feedbackDiv.className="";
  xpDeltaDiv.textContent="";

  const q=questions[index];
  const total=questions.length;

  questionNumber.textContent="Question "+(index+1);
  questionCountDisplay.textContent=(index+1)+" / "+total;

  const isDef=q.type==="definition";

  if(isDef){
    questionTypeBadge.textContent="Definition → Word";
    questionText.innerHTML=q.prompt;
  }else{
    questionTypeBadge.textContent="";
    questionText.innerHTML=
      "<b>Definition:</b> "+q.prompt+
      "<br><br><span id='maskedWord'>"+q.masked+"</span>";
  }

  bossQuestionTag.style.display=isBossQuestion(index)?"inline-block":"none";

  const numChoices=baseChoices();
  const wrongCount=numChoices-1;
  const options=shuffle([q.word,...pickWrong(q.word,wrongCount)]);

  choicesDiv.innerHTML="";
  const letters=["A","B","C","D","E","F"];

  options.forEach((opt,i)=>{
    const btn=document.createElement("button");
    btn.className="choice-btn";

    const b=document.createElement("div");
    b.className="choice-badge";
    b.textContent=letters[i];

    const t=document.createElement("div");
    t.className="choice-text";
    t.textContent=opt;

    btn.appendChild(b);
    btn.appendChild(t);

    btn.onclick=()=>handleChoice(opt,q.word);

    choicesDiv.appendChild(btn);
  });

  nextBtn.textContent=index===total-1?"Finish":"Next";

  updateCooldownDisplay();
  updateStats();
}

function handleChoice(choice,correctWord){
  if(answered)return;
  answered=true;

  const buttons=document.querySelectorAll(".choice-btn");
  buttons.forEach(b=>{
    const word=b.querySelector(".choice-text").textContent;
    if(word===correctWord)b.classList.add("correct");
    if(word===choice && choice!==correctWord)b.classList.add("incorrect");
  });

  const boss=isBossQuestion(index);
  let baseXp=boss?200:100;
  let mult=1;
  if(streak>=3)mult=1.25;
  if(streak>=6)mult=1.5;

  let delta=0;

  if(choice===correctWord){
    correctCount++;
    streak++;
    let gain=baseXp;
    if(goldActive){
      gain*=2;
      goldCooldown=5;
    }
    gain=Math.round(gain*mult);
    delta=gain;
    xp+=gain;
    feedbackDiv.className="correct";
    feedbackDiv.textContent="Correct. "+def(correctWord);
    document.querySelector(".panel").classList.add("flash-correct");
    setTimeout(()=>document.querySelector(".panel").classList.remove("flash-correct"),350);
  }else{
    streak=0;
    let loss=0;
    if(goldActive){
      loss=baseXp*2;
      goldCooldown=5;
    }else if(boss){
      loss=baseXp;
    }
    delta=-loss;
    xp+=delta;
    if(xp<0)xp=0;
    feedbackDiv.className="incorrect";
    feedbackDiv.textContent="Incorrect. The correct word was \""+correctWord+"\". "+def(correctWord);
    document.querySelector(".panel").classList.add("flash-wrong");
    setTimeout(()=>document.querySelector(".panel").classList.remove("flash-wrong"),350);
  }

  xpDisplay.textContent=Math.round(xp);
  streakDisplay.textContent=streak;
  xpDeltaDiv.textContent=delta>0?("+"+delta+" XP"):delta+" XP";

  goldActive=false;
  updateCooldownDisplay();
  updateStats();
}

goForGoldBtn.onclick=()=>{
  if(answered)return;
  if(goldCooldown>0)return;
  goldActive=true;
};

nextBtn.onclick=()=>{
  if(!answered)return;
  if(goldCooldown>0)goldCooldown--;
  if(index<questions.length-1){
    index++;
    loadQuestion();
  }else{
    finishGame();
  }
};

difficultySelect.onchange=()=>{
  index=0;
  xp=0;
  streak=0;
  answered=false;
  goldActive=false;
  goldCooldown=0;
  correctCount=0;
  xpDisplay.textContent="0";
  streakDisplay.textContent="0";
  summaryDiv.textContent="";
  nextBtn.textContent="Next";
  loadQuestion();
};

function computeTitle(finalXp){
  if(finalXp>=12000)return"Lexical Potentate";
  if(finalXp>=9000)return"Zealous Iconoclast";
  if(finalXp>=6000)return"Sagacious Virtuoso";
  if(finalXp>=3500)return"Convivial Wordsmith";
  if(finalXp>=1500)return"Nascent Neophyte";
  return"Vernacular Voyager";
}

function loadLeaderboard(){
  const stored=localStorage.getItem("cuzzieVocabLeaderboard");
  return stored?JSON.parse(stored):[];
}

function saveLeaderboard(lb){
  localStorage.setItem("cuzzieVocabLeaderboard",JSON.stringify(lb));
}

function renderLeaderboard(){
  const lb=loadLeaderboard().sort((a,b)=>b.xp-a.xp).slice(0,5);
  leaderboardList.innerHTML="";
  lb.forEach((entry,i)=>{
    const li=document.createElement("li");
    li.textContent=(i+1)+". "+entry.name+" — "+entry.xp+" XP";
    const span=document.createElement("span");
    span.className="badge "+(i===0?"badge-gold":i===1?"badge-silver":i===2?"badge-bronze":"");
    span.textContent=entry.title;
    li.appendChild(span);
    leaderboardList.appendChild(li);
  });
}

function finishGame(){
  questionText.textContent="";
  choicesDiv.innerHTML="";
  feedbackDiv.textContent="";
  xpDeltaDiv.textContent="";
  const total=questions.length;
  const accuracy=Math.round((correctCount/total)*100);
  const finalXp=Math.round(xp);
  const title=computeTitle(finalXp);
  summaryDiv.innerHTML=
    "You reached "+finalXp+" XP with "+correctCount+
    " correct out of "+total+" ("+accuracy+"%).<br>"+
    "Honorific: <b>"+title+"</b>.";
  const namePrompt=prompt("Enter a name for the leaderboard:","Player");
  if(namePrompt){
    const lb=loadLeaderboard();
    lb.push({name:namePrompt.trim()||"Player",xp:finalXp,title});
    saveLeaderboard(lb);
    renderLeaderboard();
  }
  updateStats();
  nextBtn.textContent="Restart";
  nextBtn.onclick=()=>location.reload();
}

renderLeaderboard();
loadQuestion();
</script>
</body>
</html>
